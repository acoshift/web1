{{define "page-title"}}Index{{end}}

{{define "body"}}
{{if .User}}
  <h2>Hello, {{toUpper .User.Username}}</h2>
  <a href="/signout">Sign Out</a>
  <form method="POST" action="/post">
    <input name="msg">
    <button>Post</button>
  </form>
{{else}}
  <a href="/signup">Sign Up</a><br>
  <a href="/signin">Sign In</a>
{{end}}

<ul>
  {{range .Posts}}
    {{template "post-card" .}}
  {{end}}
</ul>

{{end}}

{{define "post-card"}}
<li>[{{.CreatedAt | dateTime}}] {{.Username}}: {{.Msg}}
{{end}}
